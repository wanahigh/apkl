[{"type":"js","data":"/* Imports for global scope */\n\nMongoInternals = Package.mongo.MongoInternals;\nMongo = Package.mongo.Mongo;\nReactiveVar = Package['reactive-var'].ReactiveVar;\nTracker = Package.tracker.Tracker;\nDeps = Package.tracker.Deps;\nECMAScript = Package.ecmascript.ECMAScript;\nRouter = Package['iron:router'].Router;\nRouteController = Package['iron:router'].RouteController;\nEmail = Package.email.Email;\nEmailInternals = Package.email.EmailInternals;\n_ = Package.underscore._;\ncheck = Package.check.check;\nMatch = Package.check.Match;\nBlaze = Package.ui.Blaze;\nUI = Package.ui.UI;\nHandlebars = Package.ui.Handlebars;\nModel = Package['channikhabra:stupid-models'].Model;\nGoogle = Package['google-oauth'].Google;\nAlgoliaSearch = Package['acemtp:algolia'].AlgoliaSearch;\nReactiveDict = Package['reactive-dict'].ReactiveDict;\nMeteor = Package.meteor.Meteor;\nglobal = Package.meteor.global;\nmeteorEnv = Package.meteor.meteorEnv;\nWebApp = Package.webapp.WebApp;\nWebAppInternals = Package.webapp.WebAppInternals;\nmain = Package.webapp.main;\nDDP = Package['ddp-client'].DDP;\nDDPServer = Package['ddp-server'].DDPServer;\nLaunchScreen = Package['launch-screen'].LaunchScreen;\nSpacebars = Package.spacebars.Spacebars;\nmeteorInstall = Package.modules.meteorInstall;\nmeteorBabelHelpers = Package['babel-runtime'].meteorBabelHelpers;\nPromise = Package.promise.Promise;\nIron = Package['iron:core'].Iron;\nAccounts = Package['accounts-base'].Accounts;\nGithub = Package['github-oauth'].Github;\nFacebook = Package['facebook-oauth'].Facebook;\n_mdlGetAsset = Package['zodiase:mdl-assets']._mdlGetAsset;\nAccountsTemplates = Package['useraccounts:core'].AccountsTemplates;\nHTML = Package.htmljs.HTML;\nAutoupdate = Package.autoupdate.Autoupdate;\nT9n = Package['softwarerero:accounts-t9n'].T9n;\n\n","servePath":"/packages/global-imports.js"},{"type":"js","data":"var require = meteorInstall({\"lib\":{\"collections\":{\"UserCol.js\":function(){\n\n///////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                               //\n// lib/collections/UserCol.js                                                                    //\n//                                                                                               //\n///////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                 //\néUserID = new Mongo.Collection('userID');\n///////////////////////////////////////////////////////////////////////////////////////////////////\n\n},\"comments.js\":function(){\n\n///////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                               //\n// lib/collections/comments.js                                                                   //\n//                                                                                               //\n///////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                 //\nComments = new Mongo.Collection('comments');\nMeteor.methods({\n  commentInsert: function (commentAttributes) {\n    check(this.userId, String);\n    check(commentAttributes, {\n      postId: String,\n      body: String\n    });\n    var user = Meteor.user();\n    var post = Posts.findOne(commentAttributes.postId);\n    if (!post) throw new Meteor.Error('invalid-comment', 'You must comment on a post');\n    comment = _.extend(commentAttributes, {\n      userId: user._id,\n      author: user.username,\n      submitted: new Date()\n    }); // update the post with the number of comments\n\n    Posts.update(comment.postId, {\n      $inc: {\n        commentsCount: 1\n      }\n    }); // create the comment, save the id\n\n    comment._id = Comments.insert(comment); // now create a notification, informing the user that there's been a comment\n\n    createCommentNotification(comment);\n    return comment._id;\n  }\n});\n///////////////////////////////////////////////////////////////////////////////////////////////////\n\n},\"notifications.js\":function(){\n\n///////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                               //\n// lib/collections/notifications.js                                                              //\n//                                                                                               //\n///////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                 //\nNotifications = new Mongo.Collection('notifications');\nNotifications.allow({\n  update: function (userId, doc, fieldNames) {\n    return ownsDocument(userId, doc) && fieldNames.length === 1 && fieldNames[0] === 'read';\n  }\n});\n\ncreateCommentNotification = function (comment) {\n  var post = Posts.findOne(comment.postId);\n\n  if (comment.userId !== post.userId) {\n    Notifications.insert({\n      userId: post.userId,\n      postId: post._id,\n      commentId: comment._id,\n      commenterName: comment.author,\n      read: false\n    });\n  }\n};\n///////////////////////////////////////////////////////////////////////////////////////////////////\n\n},\"posts.js\":function(require,exports,module){\n\n///////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                               //\n// lib/collections/posts.js                                                                      //\n//                                                                                               //\n///////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                 //\nmodule.export({\n  Tasks: () => Tasks\n});\nlet Mongo;\nmodule.watch(require(\"meteor/mongo\"), {\n  Mongo(v) {\n    Mongo = v;\n  }\n\n}, 0);\nconst Tasks = new Mongo.Collection('tasks');\n///////////////////////////////////////////////////////////////////////////////////////////////////\n\n}},\"permissions.js\":function(){\n\n///////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                               //\n// lib/permissions.js                                                                            //\n//                                                                                               //\n///////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                 //\n// check that the userId specified owns the documents\nownsDocument = function (userId, doc) {\n  return doc && doc.userId === userId;\n};\n///////////////////////////////////////////////////////////////////////////////////////////////////\n\n},\"router.js\":function(require,exports,module){\n\n///////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                               //\n// lib/router.js                                                                                 //\n//                                                                                               //\n///////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                 //\nlet Meteor;\nmodule.watch(require(\"meteor/meteor\"), {\n    Meteor(v) {\n        Meteor = v;\n    }\n\n}, 0);\nRouter.configure({\n    layoutTemplate: 'layout'\n});\nRouter.route('/', {\n    name: 'home'\n});\nRouter.route('/tuto', {\n    name: 'tuto'\n});\nRouter.route('/exo', {\n    name: 'exo'\n});\nRouter.route('/DL', {\n    name: 'DL'\n});\nRouter.route('/AP', {\n    name: 'AP'\n});\nRouter.route('/VPN', {\n    name: 'VPN'\n});\nRouter.route('/CTC', {\n    name: 'contact'\n});\nRouter.route('/FLC', {\n    name: 'FLC'\n});\nRouter.route('/Note', {\n    name: 'Note'\n}); // PostsListController = RouteController.extend({\n//     template: 'postsList',\n//     increment: 5,\n//     postsLimit: function() {\n//         return parseInt(this.params.postsLimit) || this.increment;\n//     },\n//     findOptions: function() {\n//         return {sort: this.sort, limit: this.postsLimit()};\n//     },\n//     subscriptions: function() {\n//         this.postsSub = Meteor.subscribe('posts', this.findOptions());\n//     },\n//     posts: function() {\n//         return Posts.find({}, this.findOptions());\n//     },\n//     data: function() {\n//         var self = this;\n//         return {\n//             posts: self.posts(),\n//             ready: self.postsSub.ready,\n//             nextPath: function() {\n//                 if (self.posts().count() === self.postsLimit())\n//                     return self.nextPath();\n//             }\n//         };\n//     }\n// });\n//\n// NewPostsController = PostsListController.extend({\n//     sort: {submitted: -1, _id: -1},\n//     nextPath: function() {\n//         return Router.routes.newPosts.path({postsLimit: this.postsLimit() + this.increment})\n//     }\n// });\n//\n// BestPostsController = PostsListController.extend({\n//     sort: {votes: -1, submitted: -1, _id: -1},\n//     nextPath: function() {\n//         return Router.routes.bestPosts.path({postsLimit: this.postsLimit() + this.increment})\n//     }\n// });\n//\n// Router.route('/pub', {\n//     name: 'publication',\n//     controller: NewPostsController\n// });\n//\n// Router.route('/new/:postsLimit?', {name: 'newPosts'});\n//\n// Router.route('/best/:postsLimit?', {name: 'bestPosts'});\n//\n//\n// Router.route('/posts/:_id', {\n//     name: 'postPage',\n//     waitOn: function() {\n//         return [\n//             Meteor.subscribe('singlePost', this.params._id),\n//             Meteor.subscribe('comments', this.params._id)\n//         ];\n//     },\n//     data: function() { return Posts.findOne(this.params._id); }\n// });\n//\n// Router.route('/posts/:_id/edit', {\n//     name: 'postEdit',\n//     waitOn: function() {\n//         return Meteor.subscribe('singlePost', this.params._id);\n//     },\n//     data: function() { return Posts.findOne(this.params._id); }\n// });\n//\n// Router.route('/submit', {name: 'postSubmit'});\n///////////////////////////////////////////////////////////////////////////////////////////////////\n\n}},\"imports\":{\"api\":{\"tasks.js\":function(require,exports,module){\n\n///////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                               //\n// imports/api/tasks.js                                                                          //\n//                                                                                               //\n///////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                 //\nmodule.export({\n  Tasks: () => Tasks\n});\nlet Mongo;\nmodule.watch(require(\"meteor/mongo\"), {\n  Mongo(v) {\n    Mongo = v;\n  }\n\n}, 0);\nconst Tasks = new Mongo.Collection('tasks');\n///////////////////////////////////////////////////////////////////////////////////////////////////\n\n}}},\"server\":{\"fixtures.js\":function(){\n\n///////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                               //\n// server/fixtures.js                                                                            //\n//                                                                                               //\n///////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                 //\n// Fixture data \nif (Posts.find().count() === 0) {\n  var now = new Date().getTime(); // create two users\n\n  var tomId = Meteor.users.insert({\n    profile: {\n      name: 'Tom Coleman'\n    }\n  });\n  var tom = Meteor.users.findOne(tomId);\n  var sachaId = Meteor.users.insert({\n    profile: {\n      name: 'Sacha Greif'\n    }\n  });\n  var sacha = Meteor.users.findOne(sachaId);\n  var telescopeId = Posts.insert({\n    title: 'Introducing Telescope',\n    userId: sacha._id,\n    author: sacha.profile.name,\n    url: 'http://sachagreif.com/introducing-telescope/',\n    submitted: new Date(now - 7 * 3600 * 1000),\n    commentsCount: 2,\n    upvoters: [],\n    votes: 0\n  });\n  Comments.insert({\n    postId: telescopeId,\n    userId: tom._id,\n    author: tom.profile.name,\n    submitted: new Date(now - 5 * 3600 * 1000),\n    body: 'Interesting project Sacha, can I get involved?'\n  });\n  Comments.insert({\n    postId: telescopeId,\n    userId: sacha._id,\n    author: sacha.profile.name,\n    submitted: new Date(now - 3 * 3600 * 1000),\n    body: 'You sure can Tom!'\n  });\n  Posts.insert({\n    title: 'Meteor',\n    userId: tom._id,\n    author: tom.profile.name,\n    url: 'http://meteor.com',\n    submitted: new Date(now - 10 * 3600 * 1000),\n    commentsCount: 0,\n    upvoters: [],\n    votes: 0\n  });\n  Posts.insert({\n    title: 'The Meteor Book',\n    userId: tom._id,\n    author: tom.profile.name,\n    url: 'http://themeteorbook.com',\n    submitted: new Date(now - 12 * 3600 * 1000),\n    commentsCount: 0,\n    upvoters: [],\n    votes: 0\n  });\n\n  for (var i = 0; i < 10; i++) {\n    Posts.insert({\n      title: 'Test post #' + i,\n      author: sacha.profile.name,\n      userId: sacha._id,\n      url: 'http://google.com/?q=test-' + i,\n      submitted: new Date(now - i * 3600 * 1000 + 1),\n      commentsCount: 0,\n      upvoters: [],\n      votes: 0\n    });\n  }\n}\n///////////////////////////////////////////////////////////////////////////////////////////////////\n\n},\"main.js\":function(require,exports,module){\n\n///////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                               //\n// server/main.js                                                                                //\n//                                                                                               //\n///////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                 //\nmodule.watch(require(\"../imports/api/tasks.js\"));\nMeteor.startup(() => {// code to run on server at startup\n}); // mail //*\n///////////////////////////////////////////////////////////////////////////////////////////////////\n\n}}},{\n  \"extensions\": [\n    \".js\",\n    \".json\"\n  ]\n});\nrequire(\"./lib/collections/UserCol.js\");\nrequire(\"./lib/collections/comments.js\");\nrequire(\"./lib/collections/notifications.js\");\nrequire(\"./lib/collections/posts.js\");\nrequire(\"./lib/permissions.js\");\nrequire(\"./lib/router.js\");\nrequire(\"./server/fixtures.js\");\nrequire(\"./server/main.js\");","servePath":"/app.js","sourceMap":{"version":3,"sources":["lib/collections/UserCol.js","lib/collections/comments.js","lib/collections/notifications.js","lib/collections/posts.js","lib/permissions.js","lib/router.js","imports/api/tasks.js","server/fixtures.js","server/main.js"],"names":["éUserID","Mongo","Collection","Comments","Meteor","methods","commentInsert","commentAttributes","check","userId","String","postId","body","user","post","Posts","findOne","Error","comment","_","extend","_id","author","username","submitted","Date","update","$inc","commentsCount","insert","createCommentNotification","Notifications","allow","doc","fieldNames","ownsDocument","length","commentId","commenterName","read","module","export","Tasks","watch","require","v","Router","configure","layoutTemplate","route","name","find","count","now","getTime","tomId","users","profile","tom","sachaId","sacha","telescopeId","title","url","upvoters","votes","i","startup"],"mappings":"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","file":"/app.js","sourcesContent":["éUserID = new Mongo.Collection('userID');","Comments = new Mongo.Collection('comments');\n\nMeteor.methods({\n  commentInsert: function(commentAttributes) {\n    check(this.userId, String);\n    check(commentAttributes, {\n      postId: String,\n      body: String\n    });\n    \n    var user = Meteor.user();\n    var post = Posts.findOne(commentAttributes.postId);\n\n    if (!post)\n      throw new Meteor.Error('invalid-comment', 'You must comment on a post');\n    \n    comment = _.extend(commentAttributes, {\n      userId: user._id,\n      author: user.username,\n      submitted: new Date()\n    });\n    \n    // update the post with the number of comments\n    Posts.update(comment.postId, {$inc: {commentsCount: 1}});\n    \n    // create the comment, save the id\n    comment._id = Comments.insert(comment);\n    \n    // now create a notification, informing the user that there's been a comment\n    createCommentNotification(comment);\n    \n    return comment._id;\n  }\n});\n","Notifications = new Mongo.Collection('notifications');\n\nNotifications.allow({\n  update: function(userId, doc, fieldNames) {\n    return ownsDocument(userId, doc) && \n      fieldNames.length === 1 && fieldNames[0] === 'read';\n  }\n});\n\ncreateCommentNotification = function(comment) {\n  var post = Posts.findOne(comment.postId);\n  if (comment.userId !== post.userId) {\n    Notifications.insert({\n      userId: post.userId,\n      postId: post._id,\n      commentId: comment._id,\n      commenterName: comment.author,\n      read: false\n    });\n  }\n};","import { Mongo } from 'meteor/mongo';\n\nexport const Tasks = new Mongo.Collection('tasks');","// check that the userId specified owns the documents\nownsDocument = function(userId, doc) {\n  return doc && doc.userId === userId;\n}\n","import { Meteor } from 'meteor/meteor';\n\nRouter.configure({\n    layoutTemplate: 'layout'\n\n});\n\nRouter.route('/', {name : 'home'})\nRouter.route('/tuto', {name : 'tuto'});\nRouter.route('/exo', {name : 'exo'});\nRouter.route('/DL', {name : 'DL'});\nRouter.route('/AP', {name : 'AP'});\nRouter.route('/VPN', {name : 'VPN'});\nRouter.route('/CTC', {name : 'contact'});\nRouter.route('/FLC', {name : 'FLC'});\nRouter.route('/Note', {name : 'Note'});\n\n\n\n\n// PostsListController = RouteController.extend({\n//     template: 'postsList',\n//     increment: 5,\n//     postsLimit: function() {\n//         return parseInt(this.params.postsLimit) || this.increment;\n//     },\n//     findOptions: function() {\n//         return {sort: this.sort, limit: this.postsLimit()};\n//     },\n//     subscriptions: function() {\n//         this.postsSub = Meteor.subscribe('posts', this.findOptions());\n//     },\n//     posts: function() {\n//         return Posts.find({}, this.findOptions());\n//     },\n//     data: function() {\n//         var self = this;\n//         return {\n//             posts: self.posts(),\n//             ready: self.postsSub.ready,\n//             nextPath: function() {\n//                 if (self.posts().count() === self.postsLimit())\n//                     return self.nextPath();\n//             }\n//         };\n//     }\n// });\n//\n// NewPostsController = PostsListController.extend({\n//     sort: {submitted: -1, _id: -1},\n//     nextPath: function() {\n//         return Router.routes.newPosts.path({postsLimit: this.postsLimit() + this.increment})\n//     }\n// });\n//\n// BestPostsController = PostsListController.extend({\n//     sort: {votes: -1, submitted: -1, _id: -1},\n//     nextPath: function() {\n//         return Router.routes.bestPosts.path({postsLimit: this.postsLimit() + this.increment})\n//     }\n// });\n//\n// Router.route('/pub', {\n//     name: 'publication',\n//     controller: NewPostsController\n// });\n//\n// Router.route('/new/:postsLimit?', {name: 'newPosts'});\n//\n// Router.route('/best/:postsLimit?', {name: 'bestPosts'});\n//\n//\n// Router.route('/posts/:_id', {\n//     name: 'postPage',\n//     waitOn: function() {\n//         return [\n//             Meteor.subscribe('singlePost', this.params._id),\n//             Meteor.subscribe('comments', this.params._id)\n//         ];\n//     },\n//     data: function() { return Posts.findOne(this.params._id); }\n// });\n//\n// Router.route('/posts/:_id/edit', {\n//     name: 'postEdit',\n//     waitOn: function() {\n//         return Meteor.subscribe('singlePost', this.params._id);\n//     },\n//     data: function() { return Posts.findOne(this.params._id); }\n// });\n//\n// Router.route('/submit', {name: 'postSubmit'});\n\n\n\n\n","import { Mongo } from 'meteor/mongo';\n\nexport const Tasks = new Mongo.Collection('tasks');","// Fixture data \nif (Posts.find().count() === 0) {\n  var now = new Date().getTime();\n  \n  // create two users\n  var tomId = Meteor.users.insert({\n    profile: { name: 'Tom Coleman' }\n  });\n  var tom = Meteor.users.findOne(tomId);\n  var sachaId = Meteor.users.insert({\n    profile: { name: 'Sacha Greif' }\n  });\n  var sacha = Meteor.users.findOne(sachaId);\n  \n  var telescopeId = Posts.insert({\n    title: 'Introducing Telescope',\n    userId: sacha._id,\n    author: sacha.profile.name,\n    url: 'http://sachagreif.com/introducing-telescope/',\n    submitted: new Date(now - 7 * 3600 * 1000),\n    commentsCount: 2,\n    upvoters: [], votes: 0\n  });\n  \n  Comments.insert({\n    postId: telescopeId,\n    userId: tom._id,\n    author: tom.profile.name,\n    submitted: new Date(now - 5 * 3600 * 1000),\n    body: 'Interesting project Sacha, can I get involved?'\n  });\n  \n  Comments.insert({\n    postId: telescopeId,\n    userId: sacha._id,\n    author: sacha.profile.name,\n    submitted: new Date(now - 3 * 3600 * 1000),\n    body: 'You sure can Tom!'\n  });\n  \n  Posts.insert({\n    title: 'Meteor',\n    userId: tom._id,\n    author: tom.profile.name,\n    url: 'http://meteor.com',\n    submitted: new Date(now - 10 * 3600 * 1000),\n    commentsCount: 0,\n    upvoters: [], votes: 0\n  });\n  \n  Posts.insert({\n    title: 'The Meteor Book',\n    userId: tom._id,\n    author: tom.profile.name,\n    url: 'http://themeteorbook.com',\n    submitted: new Date(now - 12 * 3600 * 1000),\n    commentsCount: 0,\n    upvoters: [], votes: 0\n  });\n  \n  for (var i = 0; i < 10; i++) {\n    Posts.insert({\n      title: 'Test post #' + i,\n      author: sacha.profile.name,\n      userId: sacha._id,\n      url: 'http://google.com/?q=test-' + i,\n      submitted: new Date(now - i * 3600 * 1000 + 1),\n      commentsCount: 0,\n      upvoters: [], votes: 0\n    });\n  }\n}","\n\nMeteor.startup(() => {\n  // code to run on server at startup\n});\n\n\n// mail //*\nimport '../imports/api/tasks.js';"]}}]