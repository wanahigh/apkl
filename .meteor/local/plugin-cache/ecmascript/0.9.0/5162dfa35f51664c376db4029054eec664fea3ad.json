{"metadata":{"usedHelpers":[],"marked":[],"modules":{"imports":[{"source":"meteor/meteor","imported":["Meteor"],"specifiers":[{"kind":"named","imported":"Meteor","local":"Meteor"}]}],"exports":{"exported":[],"specifiers":[]}}},"options":{"filename":"client/Note/posts/post_item.js","filenameRelative":"client/Note/posts/post_item.js","env":{"development":{"plugins":[]}},"retainLines":false,"highlightCode":true,"suppressDeprecationMessages":false,"presets":[],"plugins":[[[],{"generateLetDeclarations":true,"enforceStrictMode":false}],[[],null],[[],{"polyfill":false}],[[],null],[[],null],[[],null],[[],{"allowTopLevelThis":true,"strict":false,"loose":true}],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],{"loose":true}],[[],{"loose":true}],[[],null],[[],{"loose":true}],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],{"loose":true}],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null]],"ignore":[],"code":true,"metadata":true,"ast":true,"comments":true,"compact":false,"minified":false,"sourceMap":true,"sourceMaps":true,"sourceMapTarget":"client/Note/posts/post_item.js.map","sourceFileName":"client/Note/posts/post_item.js","babelrc":false,"sourceType":"module","moduleIds":false,"passPerPreset":false,"parserOpts":false,"generatorOpts":false,"basename":"post_item"},"ignored":false,"code":"var Meteor = void 0;\nmodule.watch(require(\"meteor/meteor\"), {\n  Meteor: function (v) {\n    Meteor = v;\n  }\n}, 0);\nTemplate.postItem.helpers({\n  ownPost: function () {\n    return this.userId == Meteor.userId();\n  },\n  domain: function () {\n    var a = document.createElement('a');\n    a.href = this.url;\n    return a.hostname;\n  },\n  upvotedClass: function () {\n    var userId = Meteor.userId();\n\n    if (userId && !_.include(this.upvoters, userId)) {\n      return 'btn-primary upvotable';\n    } else {\n      return 'disabled';\n    }\n  }\n});\nTemplate.postItem.events({\n  'click .upvotable': function (e) {\n    e.preventDefault();\n    Meteor.call('upvote', this._id);\n  }\n});","map":{"version":3,"sources":["client/Note/posts/post_item.js"],"names":["Meteor","module","watch","require","v","Template","postItem","helpers","ownPost","userId","domain","a","document","createElement","href","url","hostname","upvotedClass","_","include","upvoters","events","e","preventDefault","call","_id"],"mappings":"AAAA,IAAIA,eAAJ;AAAWC,OAAOC,KAAP,CAAaC,QAAQ,eAAR,CAAb,EAAsC;AAACH,QAAD,YAAQI,CAAR,EAAU;AAACJ,aAAOI,CAAP;AAAS;AAApB,CAAtC,EAA4D,CAA5D;AAEXC,SAASC,QAAT,CAAkBC,OAAlB,CAA0B;AACxBC,WAAS,YAAW;AAClB,WAAO,KAAKC,MAAL,IAAeT,OAAOS,MAAP,EAAtB;AACD,GAHuB;AAIxBC,UAAQ,YAAW;AACjB,QAAIC,IAAIC,SAASC,aAAT,CAAuB,GAAvB,CAAR;AACAF,MAAEG,IAAF,GAAS,KAAKC,GAAd;AACA,WAAOJ,EAAEK,QAAT;AACD,GARuB;AASxBC,gBAAc,YAAW;AACvB,QAAIR,SAAST,OAAOS,MAAP,EAAb;;AACA,QAAIA,UAAU,CAACS,EAAEC,OAAF,CAAU,KAAKC,QAAf,EAAyBX,MAAzB,CAAf,EAAiD;AAC/C,aAAO,uBAAP;AACD,KAFD,MAEO;AACL,aAAO,UAAP;AACD;AACF;AAhBuB,CAA1B;AAmBAJ,SAASC,QAAT,CAAkBe,MAAlB,CAAyB;AACvB,sBAAoB,UAASC,CAAT,EAAY;AAC9BA,MAAEC,cAAF;AACAvB,WAAOwB,IAAP,CAAY,QAAZ,EAAsB,KAAKC,GAA3B;AACD;AAJsB,CAAzB","file":"client/Note/posts/post_item.js.map","sourcesContent":["import { Meteor } from 'meteor/meteor';\n\nTemplate.postItem.helpers({\n  ownPost: function() {\n    return this.userId == Meteor.userId();\n  },\n  domain: function() {\n    var a = document.createElement('a');\n    a.href = this.url;\n    return a.hostname;\n  },\n  upvotedClass: function() {\n    var userId = Meteor.userId();\n    if (userId && !_.include(this.upvoters, userId)) {\n      return 'btn-primary upvotable';\n    } else {\n      return 'disabled';\n    }\n  }\n});\n\nTemplate.postItem.events({\n  'click .upvotable': function(e) {\n    e.preventDefault();\n    Meteor.call('upvote', this._id);\n  }\n});"]},"hash":"5162dfa35f51664c376db4029054eec664fea3ad"}
