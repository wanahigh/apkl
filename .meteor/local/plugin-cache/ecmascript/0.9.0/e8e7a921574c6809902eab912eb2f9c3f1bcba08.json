{"metadata":{"usedHelpers":[],"marked":[],"modules":{"imports":[],"exports":{"exported":[],"specifiers":[]}}},"options":{"filename":"packages/zodiase:mdl-assets/scripts/imports/update.js","filenameRelative":"packages/zodiase:mdl-assets/scripts/imports/update.js","env":{"development":{"plugins":[]}},"retainLines":false,"highlightCode":true,"suppressDeprecationMessages":false,"presets":[],"plugins":[[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],{"generateLetDeclarations":true,"enforceStrictMode":false}],[[],{"polyfill":false}],[[],null],[[],null],[[],null],[[],{"useNativeAsyncAwait":false}],[[],null],[[],null],[[],{"allowTopLevelThis":true,"strict":false,"loose":true}]],"ignore":[],"code":true,"metadata":true,"ast":true,"comments":true,"compact":false,"minified":false,"sourceMap":true,"sourceMaps":true,"sourceMapTarget":"packages/zodiase:mdl-assets/scripts/imports/update.js.map","sourceFileName":"packages/zodiase:mdl-assets/scripts/imports/update.js","babelrc":false,"sourceType":"module","moduleIds":false,"passPerPreset":false,"parserOpts":false,"generatorOpts":false,"basename":"update"},"ignored":false,"code":"var getFiles = require('./getFiles.js');\n\nvar fs = require(\"fs\");\n\nvar path = require(\"path\");\n\nfunction print(data) {\n  data = data || '';\n  process.stdout.write(data);\n}\n\nfunction println(data) {\n  data = data || '';\n  process.stdout.write(data + '\\n');\n}\n\nfunction update(scanPath, fileTypes, recursive, packageFilePath, bookmarkName, variableName) {\n  println('Scanning directory...');\n  var files = getFiles(scanPath, fileTypes, recursive);\n  println(files.join('\\n'));\n  println(files.length + ' files found.');\n  var packageFile = fs.readFileSync(packageFilePath, {\n    encoding: 'utf8'\n  });\n  var filesJSON = JSON.stringify(files);\n  var matchRegex = new RegExp('\\\\/\\\\/\\\\/>>>>' + bookmarkName + '((.|\\\\n)*?)\\\\/\\\\/\\\\/<<<<' + bookmarkName + '', 'g');\n  packageFile = packageFile.replace(matchRegex, '///>>>>' + bookmarkName + '\\n' + variableName + ' = ' + filesJSON + ';\\n///<<<<' + bookmarkName + '');\n  fs.writeFileSync(packageFilePath, packageFile, {\n    encoding: 'utf8'\n  });\n}\n\nupdate.recursive = getFiles.recursive;\nupdate.nonrecursive = getFiles.nonrecursive;\n\nif (require.main !== module) {\n  // Loaded by another script.\n  module.exports = update;\n}","map":{"version":3,"sources":["packages/zodiase:mdl-assets/scripts/imports/update.js"],"names":["getFiles","require","fs","path","print","data","process","stdout","write","println","update","scanPath","fileTypes","recursive","packageFilePath","bookmarkName","variableName","files","join","length","packageFile","readFileSync","encoding","filesJSON","JSON","stringify","matchRegex","RegExp","replace","writeFileSync","nonrecursive","main","module","exports"],"mappings":"AAAA,IAAIA,WAAWC,QAAQ,eAAR,CAAf;;AACA,IAAIC,KAAKD,QAAQ,IAAR,CAAT;;AACA,IAAIE,OAAOF,QAAQ,MAAR,CAAX;;AAEA,SAASG,KAAT,CAAgBC,IAAhB,EAAsB;AAACA,SAAOA,QAAQ,EAAf;AAAkBC,UAAQC,MAAR,CAAeC,KAAf,CAAqBH,IAArB;AAA4B;;AACrE,SAASI,OAAT,CAAkBJ,IAAlB,EAAwB;AAACA,SAAOA,QAAQ,EAAf;AAAkBC,UAAQC,MAAR,CAAeC,KAAf,CAAqBH,OAAO,IAA5B;AAAmC;;AAE9E,SAASK,MAAT,CAAgBC,QAAhB,EAA0BC,SAA1B,EAAqCC,SAArC,EAAgDC,eAAhD,EAAiEC,YAAjE,EAA+EC,YAA/E,EAA6F;AAC3FP,UAAQ,uBAAR;AACA,MAAIQ,QAAQjB,SAASW,QAAT,EAAmBC,SAAnB,EAA8BC,SAA9B,CAAZ;AACAJ,UAAQQ,MAAMC,IAAN,CAAW,IAAX,CAAR;AACAT,UAAQQ,MAAME,MAAN,GAAe,eAAvB;AACA,MAAIC,cAAclB,GAAGmB,YAAH,CAAgBP,eAAhB,EAAiC;AAACQ,cAAU;AAAX,GAAjC,CAAlB;AACA,MAAIC,YAAYC,KAAKC,SAAL,CAAeR,KAAf,CAAhB;AACA,MAAIS,aAAa,IAAIC,MAAJ,CAAW,kBAAkBZ,YAAlB,GAAiC,0BAAjC,GAA8DA,YAA9D,GAA6E,EAAxF,EAA4F,GAA5F,CAAjB;AACAK,gBAAcA,YAAYQ,OAAZ,CAAoBF,UAApB,EAAgC,YAAYX,YAAZ,GAA2B,IAA3B,GAAkCC,YAAlC,GAAiD,KAAjD,GAAyDO,SAAzD,GAAqE,YAArE,GAAoFR,YAApF,GAAmG,EAAnI,CAAd;AACAb,KAAG2B,aAAH,CAAiBf,eAAjB,EAAkCM,WAAlC,EAA+C;AAACE,cAAU;AAAX,GAA/C;AACD;;AAEDZ,OAAOG,SAAP,GAAmBb,SAASa,SAA5B;AACAH,OAAOoB,YAAP,GAAsB9B,SAAS8B,YAA/B;;AAEA,IAAI7B,QAAQ8B,IAAR,KAAiBC,MAArB,EAA6B;AAC3B;AACAA,SAAOC,OAAP,GAAiBvB,MAAjB;AACD","file":"packages/zodiase:mdl-assets/scripts/imports/update.js.map","sourcesContent":["var getFiles = require('./getFiles.js');\nvar fs = require(\"fs\");\nvar path = require(\"path\");\n\nfunction print (data) {data = data || '';process.stdout.write(data);}\nfunction println (data) {data = data || '';process.stdout.write(data + '\\n');}\n\nfunction update(scanPath, fileTypes, recursive, packageFilePath, bookmarkName, variableName) {\n  println('Scanning directory...');\n  var files = getFiles(scanPath, fileTypes, recursive);\n  println(files.join('\\n'));\n  println(files.length + ' files found.');\n  var packageFile = fs.readFileSync(packageFilePath, {encoding: 'utf8'});\n  var filesJSON = JSON.stringify(files);\n  var matchRegex = new RegExp('\\\\/\\\\/\\\\/>>>>' + bookmarkName + '((.|\\\\n)*?)\\\\/\\\\/\\\\/<<<<' + bookmarkName + '', 'g');\n  packageFile = packageFile.replace(matchRegex, '///>>>>' + bookmarkName + '\\n' + variableName + ' = ' + filesJSON + ';\\n///<<<<' + bookmarkName + '');\n  fs.writeFileSync(packageFilePath, packageFile, {encoding: 'utf8'});\n}\n\nupdate.recursive = getFiles.recursive;\nupdate.nonrecursive = getFiles.nonrecursive;\n\nif (require.main !== module) {\n  // Loaded by another script.\n  module.exports = update;\n}\n"]},"hash":"e8e7a921574c6809902eab912eb2f9c3f1bcba08"}
